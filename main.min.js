let $body=$(document.body),scrollPosition=0,pressTimer,activeTimers;const convert_month_lst=["Start","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function current_date(){let today=new Date,date;return today.getDate()+"-"+(today.getMonth()+1)+"-"+today.getFullYear()}async function get_api(url){let response=await fetch(url),data;return await response.json()}async function create_calendar(current_date){let main_data_lst=[];return await get_api(`https://beagleetech.ga/calendar_dates?date=${current_date}`).then(res=>{main_data_lst=res.details,localStorage.setItem("create-calendar",JSON.stringify(main_data_lst)),main_data_lst=localStorage.getItem("create-calendar"),main_data_lst=JSON.parse(main_data_lst)}),create_calendar_cell(main_data_lst,"create"),!1}async function create_calendar_cell(lst,mode){const month_mask=document.querySelectorAll(`#${mode}-calendar-wrapper`),month_head=document.querySelectorAll(`#${mode}-month-head`),calendar_month=document.querySelectorAll(`#${mode}-months`);console.log(lst);for(let i=0;i<month_mask.length;i++){let month=lst[i].month[0],month_index=lst[i].month[1],year=lst[i].year;month_mask[i].remove();let calendar_wrapper=document.createElement("DIV");calendar_wrapper.className="t_g_calendar_wrapper",await calendar_month[i].appendChild(calendar_wrapper),calendar_wrapper=document.getElementsByClassName("t_g_calendar_wrapper");let len_week=lst[i].weeks.length;for(let ii=0;ii<len_week;ii++){let days=lst[i].weeks[ii].days,calendar_row=document.createElement("DIV");calendar_row.className="t_g_calendar_row",calendar_row.id=`${mode}-${year}-${month_index}-${ii}`,await calendar_wrapper[i].appendChild(calendar_row),calendar_row=document.getElementById(`${mode}-${year}-${month_index}-${ii}`);for(let iii=0;iii<days.length;iii++){let day=days[iii].day,is_today=days[iii].today,day_status=days[iii].this,cell=document.createElement("DIV"),this_id=days[iii].id,cell_txt=document.createElement("DIV"),available=days[iii].available;cell_txt.className="t_g_c_today",cell.className="t_g_calendar_cell",day_status&&!is_today&&available?(0==iii&&(cell.className="t_g_calendar_cell sun"),this_id=`${mode}-cell-${this_id}`):day_status||available?day_status&&is_today?(this_id=`${mode}-cell-${this_id}`,cell_txt.className="t_g_c_today today"):day_status&&!available&&(this_id=`${mode}-passed-${this_id}`,cell.className="t_g_calendar_cell grey"):(cell.className="t_g_calendar_cell grey",this_id=`${mode}-false-${this_id}`),cell.id=this_id,await calendar_row.appendChild(cell),cell=document.getElementById(this_id),cell_txt.innerText=day,await cell.appendChild(cell_txt),cell.addEventListener("click",foo_start_click)}}month_head[i].innerText=`${month} ${year}`,append_calendar_click_slide(year,month_index,i,mode)}return!1}function append_calendar_click_slide(year,month_index,i,mode){const slide_dot=document.getElementsByClassName("w-slider-dot");let flag_count=0;switch(mode){case"create":flag_count=0;break;default:flag_count=0,console.log("Default")}let dot_id=`${mode}-dot-${month_index}-${year}`;return slide_dot[i+flag_count].id=dot_id,!1}function foo_start_click(e){this_foo_id=this.id.split(/-(.+)/);let check_available=this_foo_id[1].split(/-(.+)/)[0],class_status;check_available="cell"==check_available,!$(this).children("div").hasClass("selecting")&&check_available?$(this).children("div").addClass("selecting"):check_available&&$(this).children("div").removeClass("selecting")}function add_events(){const sign_up_norm=document.querySelectorAll("#create_ac_portal"),sign_in_port=document.querySelectorAll("#sign_in_portal"),to_login_home=document.querySelectorAll("#to_login_home"),to_create_event_page=document.querySelectorAll("#to_create_event_page"),clear=document.getElementById("create-clear"),sign_up_port=document.getElementById("sign_up_port"),create_calendar=document.getElementById("create-calendar"),create_confirm=document.getElementById("create-confirm"),create_choose_day=document.getElementById("to_create_choose_event_page"),show_log_in_pw_btn=document.getElementById("show_password"),create_event_add=document.getElementById("create_event-add"),create_event_minus=document.getElementById("create_event-minus"),create_continue=document.getElementById("create-continue");create_confirm.addEventListener("click",create_confirm_func),sign_up_port.addEventListener("click",sign_up_port_func),create_calendar.addEventListener("click",create_calendar_func),clear.addEventListener("click",clear_func),create_continue.addEventListener("click",create_continue_func),create_choose_day.addEventListener("click",create_choose_day_func),show_log_in_pw_btn.addEventListener("click",show_log_in_pw_btn_func),create_event_add.addEventListener("click",create_event_add_func),create_event_minus.addEventListener("click",create_event_minus_func);for(let i=0;i<sign_up_norm.length;i++)sign_up_norm[i].addEventListener("click",sign_up_norm_fuc);for(let i=0;i<sign_in_port.length;i++)sign_in_port[i].addEventListener("click",sign_in_port_fuc);for(let i=0;i<to_login_home.length;i++)to_login_home[i].addEventListener("click",to_login_home_func);for(let i=0;i<to_create_event_page.length;i++)to_create_event_page[i].addEventListener("click",to_create_event_page_func);return!1}function create_event_minus_func(e){const duration=document.getElementById("create-duration");if(parseInt(duration.innerText)>1){let caltor=parseInt(duration.innerText)-1;duration.innerText=caltor.toString()}return!1}function create_event_add_func(e){const duration=document.getElementById("create-duration");if(parseInt(duration.innerText)<14){let caltor=parseInt(duration.innerText)+1;duration.innerText=caltor.toString()}return!1}function show_log_in_pw_btn_func(e){const password_field=document.getElementById("login_form-assigned_id"),this_ico=document.getElementById(this.id);let field_status;return"password"==password_field.getAttribute("type")?(password_field.setAttribute("type","text"),this_ico.src="https://uploads-ssl.webflow.com/5ebc078b84f5ace6b7894a73/60adf6efb3486c474c261131_no-eye.png"):(password_field.setAttribute("type","password"),this_ico.src="https://uploads-ssl.webflow.com/5ebc078b84f5ace6b7894a73/60adf6efad77b3670ca63f60_eye.png"),!1}function create_choose_day_func(e){return document.getElementById("create-sub-tab-link1").click(),$(`#${this.id}`).addClass("current"),!1}function create_continue_func(e){const mode=this.id.split("-")[0],date_cell=document.getElementsByClassName("t_g_c_today"),continue_btn=document.getElementById(`${mode}-sub-tab-link2`);let selected_arr=[];for(let i=0;i<date_cell.length;i++){let check_selecting;if(date_cell[i].classList.contains("selecting")){let cell,check_cell=date_cell[i].parentElement.id.split("-"),cell_date=`${check_cell[2]}-${check_cell[3]}-${check_cell[4]}`;"cell"==check_cell[1]&&selected_arr.push(cell_date)}}return selected_arr.length>0?(calendar_add_user(mode,selected_arr),console.log(selected_arr),create_preview(selected_arr,mode),continue_btn.click(),$("#to_create_choose_event_page").removeClass("current")):alert("Select Date first"),!1}function create_preview(selected_arr,mode){let append_div=document.getElementById(`${mode}-preview_container`);for(;append_div.firstChild;)append_div.removeChild(append_div.lastChild);for(let i=0;i<selected_arr.length;i++){let selected=selected_arr[i].split("-"),wrapper_id=`${mode}-preview-wrapper-${selected[1]}-${selected[2]}`,day_id=`${mode}-preview-day-${selected[1]}-${selected[2]}`,month_id=`${mode}-preview-month-${selected[1]}-${selected[2]}`,preview_wrapper=document.getElementById(wrapper_id),preview_days=document.getElementById(day_id),wrapper_state;if(null!=preview_wrapper)preview_days.innerText+=`, ${selected[0]}`;else{let div_wrapper=document.createElement("DIV"),preview_letf=document.createElement("DIV"),preview_right=document.createElement("DIV");div_wrapper.className="preview-wrapper",div_wrapper.id=wrapper_id,preview_letf.className="preview-div letf",preview_letf.id=month_id,preview_letf.innerText=`${convert_month_lst[parseInt(selected[1])]}, ${selected[2]}`,preview_right.className="preview-div right",preview_right.id=day_id,preview_right.innerText=selected[0],div_wrapper.appendChild(preview_letf),div_wrapper.appendChild(preview_right),append_div.appendChild(div_wrapper),preview_wrapper=document.getElementById(wrapper_id),preview_wrapper.addEventListener("click",e=>{const sub_tab=document.getElementById(`${mode}-sub-tab-link1`),slide_dot=document.getElementById(`${mode}-dot-${selected[1]}-${selected[2]}`);return sub_tab.click(),slide_dot.click(),$("#to_create_choose_event_page").addClass("current"),!1})}}return!1}function calendar_add_user(mode,selected_lst){let calendar_details=localStorage.getItem(`${mode}-calendar`);calendar_details=JSON.parse(calendar_details);let user_name=localStorage.getItem("user_info"),uid="#0420";for(let i=0;i<selected_lst.length;i++){let selected_dates=selected_lst[i],push_status=!1;for(let ii=0;ii<calendar_details.length;ii++){let weeks=calendar_details[ii].weeks;for(let iii=0;iii<weeks.length;iii++){let days=weeks[iii].days;for(let iv=0;iv<days.length;iv++){let lst_id;if(days[iv].id==selected_dates){let participant=days[iv].participant,participant_len;if(participant.length>0){let foo_flag=!1;for(let v=0;v<participant.length;v++){let user_state=participant[v].user,uid_state=participant[v].uid,whole_state;user_state==user_name&&uid_state==uid&&(foo_flag=!0)}foo_flag?console.log(`${days[iv].id}: ${user_name}-#0420 exits`):participant.push({user:user_name,uid:uid})}else participant.push({user:user_name,uid:uid});push_status=!0;break}}if(push_status)break}if(push_status)break}}return console.log(calendar_details),localStorage.setItem(`${mode}-calendar`,JSON.stringify(calendar_details)),!1}function clear_func(e){let cls=".t_g_c_today",cls_status;return $(cls).hasClass("selecting")&&$(cls).removeClass("selecting"),!1}async function create_calendar_func(e){const to_create_calendar=document.getElementById("t-5");let today=current_date().toString();return await create_calendar(today),to_create_calendar.click(),!1}function to_create_event_page_func(e){const to_create_event=document.getElementById("t-4"),to_calendar=document.getElementById("create-sub-tab-link1");return clear_func(e),to_calendar.click(),to_create_event.click(),!1}function create_confirm_func(e){return $("#t-6").click(),!1}function to_login_home_func(e){const to_log_home=document.getElementById("t-1"),u_home=document.getElementById("u-home");return u_home.click(),to_log_home.click(),!1}function sign_up_port_func(e){const to_create_port=document.getElementById("t-4"),create_form_name=document.getElementById("create_form-name"),checked=document.getElementById("create_form-check"),u_create=document.getElementById("u-create");let field_status=create_form_name.value.length>0;return checked.checked&&field_status?(console.log(create_form_name.value),to_create_port.click(),u_create.click()):alert("Please accept our terms and conditions before signing up."),!1}function sign_up_norm_fuc(e){const to_sign_up=document.getElementById("t-2");return to_sign_up.click(),!1}function sign_in_port_fuc(e){const sign_in_page=document.getElementById("t-3");return sign_in_page.click(),!1}$(document).ready(()=>{const device_mode="None"===$("#device-mode").css("display");device_mode?(localStorage.setItem("user_info","Ken"),add_events()):alert("Mobile version only, please refresh.")});