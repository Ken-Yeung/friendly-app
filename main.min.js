function current_date(){let e=new Date,t=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear();return t}async function get_api(e){let t=await fetch(e),n=await t.json();return n}async function create_calendar(e){let t=[];return await get_api(`https://beagleetech.ga/calendar_dates?date=${e}`).then(e=>{t=e.details,localStorage.setItem("create-calendar",JSON.stringify(t)),t=localStorage.getItem("create-calendar"),t=JSON.parse(t)}),create_calendar_cell(t,"create"),!1}async function create_calendar_cell(e,t){const n=document.querySelectorAll(`#${t}-calendar-wrapper`),c=document.querySelectorAll(`#${t}-month-head`),l=document.querySelectorAll(`#${t}-months`);console.log(e);for(let a=0;a<n.length;a++){let r=e[a].month[0],o=e[a].month[1],d=e[a].year;n[a].remove();let i=document.createElement("DIV");i.className="t_g_calendar_wrapper",await l[a].appendChild(i),i=document.getElementsByClassName("t_g_calendar_wrapper");let s=e[a].weeks.length;for(let n=0;n<s;n++){let c=e[a].weeks[n].days,l=document.createElement("DIV");l.className="t_g_calendar_row",l.id=`${t}-${d}-${o}-${n}`,await i[a].appendChild(l),l=document.getElementById(`${t}-${d}-${o}-${n}`);for(let e=0;e<c.length;e++){let n=c[e].day,a=c[e].today,r=c[e].this,o=document.createElement("DIV"),d=c[e].id,i=document.createElement("DIV"),s=c[e].available;i.className="t_g_c_today",o.className="t_g_calendar_cell",r&&!a&&s?(0==e&&(o.className="t_g_calendar_cell sun"),d=`${t}-cell-${d}`):r||s?r&&a?(d=`${t}-cell-${d}`,i.className="t_g_c_today today"):r&&!s&&(d=`${t}-passed-${d}`,o.className="t_g_calendar_cell grey"):(o.className="t_g_calendar_cell grey",d=`${t}-false-${d}`),o.id=d,await l.appendChild(o),o=document.getElementById(d),i.innerText=n,await o.appendChild(i),o.addEventListener("click",foo_start_click)}}c[a].innerText=`${r} ${d}`,append_calendar_click_slide(d,o,a,t)}return!1}function append_calendar_click_slide(e,t,n,c){const l=document.getElementsByClassName("w-slider-dot");let a=0;switch(c){case"create":a=0;break;default:a=0,console.log("Default")}let r=`${c}-dot-${t}-${e}`;return l[n+a].id=r,!1}function foo_start_click(e){this_foo_id=this.id.split(/-(.+)/);let t=this_foo_id[1].split(/-(.+)/)[0];t="cell"==t;let n=$(this).children("div").hasClass("selecting");!n&&t?$(this).children("div").addClass("selecting"):t&&$(this).children("div").removeClass("selecting")}function add_events(){const e=document.querySelectorAll("#create_ac_portal"),t=document.querySelectorAll("#sign_in_portal"),n=document.querySelectorAll("#to_login_home"),c=document.querySelectorAll("#to_create_event_page"),l=document.getElementById("create-clear"),a=document.getElementById("sign_up_port"),r=document.getElementById("create-calendar"),o=document.getElementById("create-confirm"),d=document.getElementById("to_create_choose_event_page"),i=document.getElementById("show_password"),s=document.getElementById("create_event-add"),u=document.getElementById("create_event-minus"),_=document.getElementById("create-continue");o.addEventListener("click",create_confirm_func),a.addEventListener("click",sign_up_port_func),r.addEventListener("click",create_calendar_func),l.addEventListener("click",clear_func),_.addEventListener("click",create_continue_func),d.addEventListener("click",create_choose_day_func),i.addEventListener("click",show_log_in_pw_btn_func),s.addEventListener("click",create_event_add_func),u.addEventListener("click",create_event_minus_func);for(let t=0;t<e.length;t++)e[t].addEventListener("click",sign_up_norm_fuc);for(let e=0;e<t.length;e++)t[e].addEventListener("click",sign_in_port_fuc);for(let e=0;e<n.length;e++)n[e].addEventListener("click",to_login_home_func);for(let e=0;e<c.length;e++)c[e].addEventListener("click",to_create_event_page_func);return!1}function create_event_minus_func(e){const t=document.getElementById("create-duration");if(parseInt(t.innerText)>1){let e=parseInt(t.innerText)-1;t.innerText=e.toString()}return!1}function create_event_add_func(e){const t=document.getElementById("create-duration");if(parseInt(t.innerText)<14){let e=parseInt(t.innerText)+1;t.innerText=e.toString()}return!1}function show_log_in_pw_btn_func(e){const t=document.getElementById("login_form-assigned_id"),n=document.getElementById(this.id);let c="password"==t.getAttribute("type");return c?(t.setAttribute("type","text"),n.src="https://uploads-ssl.webflow.com/5ebc078b84f5ace6b7894a73/60adf6efb3486c474c261131_no-eye.png"):(t.setAttribute("type","password"),n.src="https://uploads-ssl.webflow.com/5ebc078b84f5ace6b7894a73/60adf6efad77b3670ca63f60_eye.png"),!1}function create_choose_day_func(e){return document.getElementById("create-sub-tab-link1").click(),$(`#${this.id}`).addClass("current"),!1}function create_continue_func(e){const t=this.id.split("-")[0],n=document.getElementsByClassName("t_g_c_today"),c=document.getElementById(`${t}-sub-tab-link2`);let l=[];for(let e=0;e<n.length;e++){let t=n[e].classList.contains("selecting");if(t){let t=n[e].parentElement.id,c=t.split("-"),a=`${c[2]}-${c[3]}-${c[4]}`;"cell"==c[1]&&l.push(a)}}return l.length>0?(calendar_add_user(t,l),console.log(l),create_preview(l,t),c.click(),$("#to_create_choose_event_page").removeClass("current")):alert("Select Date first"),!1}function create_preview(e,t){let n=document.getElementById(`${t}-preview_container`);for(;n.firstChild;)n.removeChild(n.lastChild);for(let c=0;c<e.length;c++){let l=e[c].split("-"),a=`${t}-preview-wrapper-${l[1]}-${l[2]}`,r=`${t}-preview-day-${l[1]}-${l[2]}`,o=`${t}-preview-month-${l[1]}-${l[2]}`,d=document.getElementById(a),i=document.getElementById(r),s=null!=d;if(s)i.innerText+=`, ${l[0]}`;else{let e=document.createElement("DIV"),c=document.createElement("DIV"),i=document.createElement("DIV");e.className="preview-wrapper",e.id=a,c.className="preview-div letf",c.id=o,c.innerText=`${convert_month_lst[parseInt(l[1])]}, ${l[2]}`,i.className="preview-div right",i.id=r,i.innerText=l[0],e.appendChild(c),e.appendChild(i),n.appendChild(e),d=document.getElementById(a),d.addEventListener("click",e=>{const n=document.getElementById(`${t}-sub-tab-link1`),c=document.getElementById(`${t}-dot-${l[1]}-${l[2]}`);return n.click(),c.click(),$("#to_create_choose_event_page").addClass("current"),!1})}}return!1}function calendar_add_user(e,t){let n=localStorage.getItem(`${e}-calendar`);n=JSON.parse(n);let c=localStorage.getItem("user_info"),l="#0420";for(let e=0;e<t.length;e++){let a=t[e],r=!1;for(let e=0;e<n.length;e++){let t=n[e].weeks;for(let e=0;e<t.length;e++){let n=t[e].days;for(let e=0;e<n.length;e++){let t=n[e].id==a;if(t){let t=n[e].participant,a=t.length>0;if(a){let a=!1;for(let e=0;e<t.length;e++){let n=t[e].user,r=t[e].uid,o=n==c&&r==l;o&&(a=!0)}a?console.log(`${n[e].id}: ${c}-${l} exits`):t.push({user:c,uid:l})}else t.push({user:c,uid:l});r=!0;break}}if(r)break}if(r)break}}return console.log(n),localStorage.setItem(`${e}-calendar`,JSON.stringify(n)),!1}function clear_func(e){let t=".t_g_c_today",n=$(t).hasClass("selecting");return n&&$(t).removeClass("selecting"),!1}async function create_calendar_func(e){const t=document.getElementById("t-5");let n=current_date().toString();return await create_calendar(n),t.click(),!1}function to_create_event_page_func(e){const t=document.getElementById("t-4"),n=document.getElementById("create-sub-tab-link1");return clear_func(e),n.click(),t.click(),!1}function create_confirm_func(e){document.getElementById("create-sub-tab-link1");return!1}function to_login_home_func(e){const t=document.getElementById("t-1");return t.click(),!1}function sign_up_port_func(e){const t=document.getElementById("t-4"),n=document.getElementById("create_form-name"),c=document.getElementById("create_form-check");return c.checked?(console.log(n.value),t.click()):alert("Please accept our terms and conditions before signing up."),!1}function sign_up_norm_fuc(e){const t=document.getElementById("t-2");return t.click(),!1}function sign_in_port_fuc(e){const t=document.getElementById("t-3");return t.click(),!1}let pressTimer,activeTimers,$body=$(document.body),scrollPosition=0;const convert_month_lst=["Start","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];$(document).ready(()=>{localStorage.setItem("user_info","Ken"),add_events()});