function current_date(){let e=new Date,t=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear();return t}async function get_api(e){let t=await fetch(e),n=await t.json();return n}async function create_calendar(e){let t=[];return await get_api(`https://beagleetech.ga/calendar_dates?date=${e}`).then(e=>{t=e.details,localStorage.setItem("create-calendar",JSON.stringify(t)),t=localStorage.getItem("create-calendar"),t=JSON.parse(t)}),create_calendar_cell(t,"create"),!1}async function create_calendar_cell(e,t){const n=document.querySelectorAll(`#${t}-calendar-wrapper`),l=document.querySelectorAll(`#${t}-month-head`),c=document.querySelectorAll(`#${t}-months`);console.log(e);for(let a=0;a<n.length;a++){let r=e[a].month[0],o=e[a].month[1],d=e[a].year;n[a].remove();let i=document.createElement("DIV");i.className="t_g_calendar_wrapper",await c[a].appendChild(i),i=document.getElementsByClassName("t_g_calendar_wrapper");let s=e[a].weeks.length;for(let n=0;n<s;n++){let l=e[a].weeks[n].days,c=document.createElement("DIV");c.className="t_g_calendar_row",c.id=`${t}-${d}-${o}-${n}`,await i[a].appendChild(c),c=document.getElementById(`${t}-${d}-${o}-${n}`);for(let e=0;e<l.length;e++){let n=l[e].day,a=l[e].today,r=l[e].this,o=document.createElement("DIV"),d=l[e].id,i=document.createElement("DIV"),s=l[e].available;i.className="t_g_c_today",o.className="t_g_calendar_cell",r&&!a&&s?(0==e&&(o.className="t_g_calendar_cell sun"),d=`${t}-cell-${d}`):r||s?r&&a?(d=`${t}-cell-${d}`,i.className="t_g_c_today today"):r&&!s&&(d=`${t}-passed-${d}`,o.className="t_g_calendar_cell grey"):(o.className="t_g_calendar_cell grey",d=`${t}-false-${d}`),o.id=d,await c.appendChild(o),o=document.getElementById(d),i.innerText=n,await o.appendChild(i),o.addEventListener("click",foo_start_click)}}l[a].innerText=`${r} ${d}`,append_calendar_click_slide(d,o,a,t)}return!1}function append_calendar_click_slide(e,t,n,l){const c=document.getElementsByClassName("w-slider-dot");let a=0;switch(l){case"create":a=0;break;default:a=0,console.log("Default")}let r=`${l}-dot-${t}-${e}`;return c[n+a].id=r,!1}function foo_start_click(e){this_foo_id=this.id.split(/-(.+)/);let t=this_foo_id[1].split(/-(.+)/)[0];t="cell"==t;let n=$(this).children("div").hasClass("selecting");!n&&t?$(this).children("div").addClass("selecting"):t&&$(this).children("div").removeClass("selecting")}function add_events(){const e=document.querySelectorAll("#create_ac_portal"),t=document.querySelectorAll("#sign_in_portal"),n=document.querySelectorAll("#to_login_home"),l=document.querySelectorAll("#to_create_event_page"),c=document.getElementById("create-clear"),a=document.getElementById("sign_up_port"),r=document.getElementById("create-calendar"),o=document.getElementById("create-confirm"),d=document.getElementById("create-continue");o.addEventListener("click",create_confirm_func),a.addEventListener("click",sign_up_port_func),r.addEventListener("click",create_calendar_func),c.addEventListener("click",clear_func),d.addEventListener("click",create_continue_func);for(let t=0;t<e.length;t++)e[t].addEventListener("click",sign_up_norm_fuc);for(let e=0;e<t.length;e++)t[e].addEventListener("click",sign_in_port_fuc);for(let e=0;e<n.length;e++)n[e].addEventListener("click",to_login_home_func);for(let e=0;e<l.length;e++)l[e].addEventListener("click",to_create_event_page_func);return!1}function create_continue_func(e){const t=this.id.split("-")[0],n=document.getElementsByClassName("t_g_c_today"),l=document.getElementById(`${t}-sub-tab-link2`);let c=[];for(let e=0;e<n.length;e++){let t=n[e].classList.contains("selecting");if(t){let t=n[e].parentElement.id,l=t.split("-"),a=`${l[2]}-${l[3]}-${l[4]}`;"cell"==l[1]&&c.push(a)}}return c.length>0?(calendar_add_user(t,c),console.log(c),create_preview(c,t),l.click()):alert("Select Date first"),!1}function create_preview(e,t){let n=document.getElementById(`${t}-preview_container`);for(;n.firstChild;)n.removeChild(n.lastChild);for(let l=0;l<e.length;l++){let c=e[l].split("-"),a=`${t}-preview-wrapper-${c[1]}-${c[2]}`,r=`${t}-preview-day-${c[1]}-${c[2]}`,o=`${t}-preview-month-${c[1]}-${c[2]}`,d=document.getElementById(a),i=document.getElementById(r),s=null!=d;if(s)i.innerText+=`, ${c[0]}`;else{let e=document.createElement("DIV"),l=document.createElement("DIV"),i=document.createElement("DIV");e.className="preview-wrapper",e.id=a,l.className="preview-div letf",l.id=o,l.innerText=`${convert_month_lst[parseInt(c[1])]}/${c[2]}`,i.className="preview-div right",i.id=r,i.innerText=c[0],e.appendChild(l),e.appendChild(i),n.appendChild(e),d=document.getElementById(a),d.addEventListener("click",e=>{const n=document.getElementById(`${t}-sub-tab-link1`),l=document.getElementById(`${t}-dot-${c[1]}-${c[2]}`);return n.click(),l.click(),!1})}}return!1}function calendar_add_user(e,t){let n=localStorage.getItem(`${e}-calendar`);n=JSON.parse(n);let l=localStorage.getItem("user_info"),c="#0420";for(let e=0;e<t.length;e++){let a=t[e],r=!1;for(let e=0;e<n.length;e++){let t=n[e].weeks;for(let e=0;e<t.length;e++){let n=t[e].days;for(let e=0;e<n.length;e++){let t=n[e].id==a;if(t){let t=n[e].participant,a=t.length>0;if(a){let a=!1;for(let e=0;e<t.length;e++){let n=t[e].user,r=t[e].uid,o=n==l&&r==c;o&&(a=!0)}a?console.log(`${n[e].id}: ${l}-${c} exits`):t.push({user:l,uid:c})}else t.push({user:l,uid:c});r=!0;break}}if(r)break}if(r)break}}return console.log(n),localStorage.setItem(`${e}-calendar`,JSON.stringify(n)),!1}function clear_func(e){let t=".t_g_c_today",n=$(t).hasClass("selecting");return n&&$(t).removeClass("selecting"),!1}async function create_calendar_func(e){const t=document.getElementById("t-5");let n=current_date().toString();return await create_calendar(n),t.click(),!1}function to_create_event_page_func(e){const t=document.getElementById("t-4"),n=document.getElementById("create-sub-tab-link1");return clear_func(e),n.click(),t.click(),!1}function create_confirm_func(e){const t=document.getElementById("create-sub-tab-link1");return t.click(),!1}function to_login_home_func(e){const t=document.getElementById("t-1");return t.click(),!1}function sign_up_port_func(e){const t=document.getElementById("t-4");return t.click(),!1}function sign_up_norm_fuc(e){const t=document.getElementById("t-2");return t.click(),!1}function sign_in_port_fuc(e){const t=document.getElementById("t-3");return t.click(),!1}let pressTimer,activeTimers,$body=$(document.body),scrollPosition=0;const convert_month_lst=["Start","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];$(document).ready(()=>{localStorage.setItem("user_info","Ken"),add_events()});